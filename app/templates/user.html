
{% extends "base.html" %}

{% from 'bootstrap/pagination.html' import render_pager as pager, render_pagination as pgn %}


{% block app_content %}
	<table class='table table-hover'>
		<tr>
			<td width="256px">
				<img src="{{ user.avatar(256) }}">
			</td>
			<td>
				<h1>User:  {{ user.username }}</h1>

				{% if user.about_me %}
					<p>{{ user.about_me }}</p>{% endif %}

				{% if user.last_seen %}
					<p>Last seen: {{ moment(user.last_seen).fromNow() }}</p>{% endif %}

				<p>{{ user.followers.count() }} followers,
					{{ user.followed.count() }} following.</p>

				{% if user == current_user %}
					<p><a href="{{ url_for('edit_profile') }}">Edit your profile</a></p>

				{% elif not current_user.is_following(user) %}
					<p><a href="{{ url_for('follow', username=user.username) }}">Follow<a></p>
				{% else %}
					<p><a href="{{ url_for('unfollow', username=user.username) }}">Unfollow</a></p>
				{% endif %}

			</td>
		</tr>
	</table>


  {% for post in posts %}
  	{% include '_post.html' %}
  {% endfor %}

  <hr>
  <p>A simple pagination style:</p>
	{{ pager(
	  	pages,
	  	fragment='#',
	  	prev=('<span aria-hidden="true">&larr;</span> Newer posts')|safe,
	  	next=("Older posts <span aria-hidden='true'>&rarr;</span>")|safe,
	  	username=current_user.username
	) }}


{% endblock %}